# 포팅 매뉴얼

# 1. Stack

## 1.1 Architecture

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%86%E1%85%A2%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%209023352d9df54132871f925801c663e2/Untitled.png)

## 1.2 Development Environment

- 사용 스택, 사용 버전 명시
- node.js 버전이라던가
- spring boot 버전 다 써주기
- intellij code convention 적용 시키는 것 등등

### 1.2.1 형상관리

- git
- gitlab

### 1.2.2 이슈관리

- Jira

### 1.2.3 UI/UX

- figma

### 1.2.4 IDE

- Intellij 2023.1
- Vscode

### 1.2.5 Communication

- notion
- mattermost

### 1.2.6 frontend server

- node.js version
    - 18.12.0 (LTS)
        
        ├── corepack@0.17.0
        ├── npm@8.19.4
        └── pnpm@8.6.9
        
- package.json
    
    ```bash
    {
      "name": "vite-project",
      "private": true,
      "version": "0.0.0",
      "type": "module",
      "scripts": {
        "dev": "vite",
        "build": "tsc && vite build",
        "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
        "preview": "vite preview"
      },
      "dependencies": {
        "@generouted/react-router": "^1.15.1",
        "@react-oauth/google": "^0.11.1",
        "@tanstack/react-query": "^4.32.6",
        "@types/node": "^20.4.2",
        "@types/react-router-dom": "^5.3.3",
        "axios": "^1.4.0",
        "feather-icons": "^4.29.0",
        "feather-icons-react": "^0.6.2",
        "font-awesome": "4.7.0",
        "jwt-decode": "^3.1.2",
        "react": "^18.2.0",
        "react-countdown-circle-timer": "^3.2.1",
        "react-dom": "^18.2.0",
        "react-feather": "^2.0.10",
        "react-google-login": "^5.2.2",
        "react-hook-form": "^7.45.2",
        "react-router-dom": "^6.14.2"
      },
      "devDependencies": {
        "@tanstack/eslint-plugin-query": "^4.32.5",
        "@types/file-saver": "^2.0.5",
        "@types/node": "^20.4.5",
        "@types/react": "^18.2.14",
        "@types/react-dom": "^18.2.6",
        "@typescript-eslint/eslint-plugin": "^5.61.0",
        "@typescript-eslint/parser": "^5.61.0",
        "@vitejs/plugin-react-swc": "^3.3.2",
        "autoprefixer": "^10.4.14",
        "dotenv": "^16.3.1",
        "eslint": "^8.44.0",
        "eslint-plugin-react-hooks": "^4.6.0",
        "eslint-plugin-react-refresh": "^0.4.1",
        "file-saver": "^2.0.5",
        "html2canvas": "^1.4.1",
        "jotai": "^2.2.2",
        "openvidu-browser": "^2.28.0",
        "postcss": "^8.4.26",
        "tailwindcss": "^3.3.3",
        "typescript": "^5.0.2",
        "vite": "^4.4.0"
      }
    ```
    

### 1.2.7 backend server

- java 11
- springboot 2.7.13
- mysql 8.0.33
- build.gradle (gradle 8.1.1)

```java
plugins {
	id 'java'
	id 'org.springframework.boot' version '2.7.13'
	id 'io.spring.dependency-management' version '1.0.15.RELEASE'
}

group = 'com.proj'
version = '0.0.1-SNAPSHOT'

java {
	sourceCompatibility = '11'
}

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-validation'
	implementation 'org.springframework.boot:spring-boot-starter-webflux'
	implementation 'io.jsonwebtoken:jjwt:0.9.1'
	implementation group: 'io.springfox', name: 'springfox-boot-starter', version: '3.0.0'
	implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'
	implementation 'com.google.code.gson:gson:2.8.7'
	developmentOnly 'org.springframework.boot:spring-boot-devtools'
	compileOnly 'org.projectlombok:lombok'
	runtimeOnly 'com.mysql:mysql-connector-j'
	annotationProcessor 'org.projectlombok:lombok'
}

tasks.named('test') {
	useJUnitPlatform()
}
```

### 1.2.8 ai server

- python version: 3.8.10
- library
    
    ```bash
    # requirement.txt
    aniso8601==9.0.1
    asgiref==3.7.2
    attrs==23.1.0
    backports.zoneinfo==0.2.1
    blinker==1.6.2
    click==8.1.6
    colorama==0.4.6
    Django==4.2.4
    filelock==3.12.2
    Flask==2.3.2
    Flask-Cors==4.0.0
    flask-restx==1.1.0
    gunicorn==21.2.0
    image==1.5.33
    importlib-metadata==6.8.0
    importlib-resources==6.0.1
    itsdangerous==2.1.2
    Jinja2==3.1.2
    jsonschema==4.19.0
    jsonschema-specifications==2023.7.1
    MarkupSafe==2.1.3
    mpmath==1.3.0
    networkx==3.1
    numpy==1.24.4
    opencv-python==4.8.0.76
    packaging==23.1
    Pillow==10.0.0
    pkgutil_resolve_name==1.3.10
    PyMySQL==1.1.0
    pytz==2023.3
    referencing==0.30.2
    rpds-py==0.9.2
    six==1.16.0
    sqlparse==0.4.4
    sympy==1.12
    torch==2.0.1
    typing_extensions==4.7.1
    tzdata==2023.3
    Werkzeug==2.3.7
    zipp==3.16.2
    aniso8601==9.0.1
    asgiref==3.7.2
    attrs==23.1.0
    backports.zoneinfo==0.2.1
    blinker==1.6.2
    click==8.1.6
    colorama==0.4.6
    Django==4.2.4
    filelock==3.12.2
    Flask==2.3.2
    Flask-Cors==4.0.0
    flask-restx==1.1.0
    gunicorn==21.2.0
    image==1.5.33
    importlib-metadata==6.8.0
    importlib-resources==6.0.1
    itsdangerous==2.1.2
    Jinja2==3.1.2
    jsonschema==4.19.0
    jsonschema-specifications==2023.7.1
    MarkupSafe==2.1.3
    mpmath==1.3.0
    networkx==3.1
    numpy==1.24.4
    opencv-python==4.8.0.76
    packaging==23.1
    Pillow==10.0.0
    pkgutil_resolve_name==1.3.10
    PyMySQL==1.1.0
    pytz==2023.3
    referencing==0.30.2
    rpds-py==0.9.2
    six==1.16.0
    sqlparse==0.4.4
    sympy==1.12
    torch==2.0.1
    typing_extensions==4.7.1
    tzdata==2023.3
    Werkzeug==2.3.7
    zipp==3.16.2
    ```
    

# 2. Build & Distribute

## 2.1 React

- .env 이동
    
    ```bash
     sudo cp -f jenkins-build/env/.env ./jenkins-build/jenkins_home/workspace/withus_front/frontend/.env
    ```
    
- Execute shell (jenkins)
    
    ```bash
    cd ./frontend
    pnpm i
    pnpm build
    ```
    

## 2.2 Spring Boot

- spring boot gradle build (jenkins)
    
    ```bash
    cd ./backend
    chmod +x gradlew
    ./gradlew clean
    ./gradlew build
    ```
    

## 2.3 Flask

- local - flask run
    
    ```bash
    # app.py 디렉토리로 이동
    flask run
    ```
    
- EC2 linux - gunicorn
    - linux 환경에서만 build 가능
    
    ```bash
    # app.py 디렉토리로 이동
    gunicorn app:app -w 4 -b 0.0.0.0:5000
    ```
    

# 3. Deployment Command

- jenkins를 이용하여 CI/CD 구축

## 3.1 React

- .env 이동
    
    ```bash
     sudo cp -f jenkins-build/env/.env ./jenkins-build/jenkins_home/workspace/withus_front/frontend/.env
    ```
    
- Execute shell (jenkins)
    
    ```bash
    cd ./frontend
    pnpm i
    pnpm build
    ```
    
- 기존 docker container, image remove
    
    ```bash
    cd jenkins-build/jenkins_home/workspace/withus_front/frontend
    sudo docker stop withus_frontend
    sudo docker rm -f withus_frontend
    sudo docker rmi -f withus_frontend
    ```
    
- docker image 빌드 & docker container run
    
    ```bash
    sudo docker build -t withus_frontend .
    sudo docker run --rm -d -p 5173:5173 --name withus_frontend withus_frontend
    ```
    

## 3.2 Spring Boot

- spring boot gradle build (jenkins)
    
    ```bash
    cd ./backend
    chmod +x gradlew
    ./gradlew clean
    ./gradlew build
    ```
    
- 기존 docker container, image 삭제
    
    ```bash
    cd jenkins-build/jenkins_home/workspace/withus_backend/backend
    sudo docker rm -f withus_backend
    sudo docker rmi withus_backend
    ```
    
- docker image build, docker container run
    
    ```bash
    sudo docker build -t withus_backend .
    sudo docker run --rm -d -p 9001:9001 --name withus_backend withus_backend
    ```
    

## 3.3 Flask

- docker hub image pull
    
    ```bash
    docker pull giyoooon/withus_ai
    ```
    
- docker image build
    
    ```bash
    docker run --rm -d -p 5000:5000 --name withus_ai giyoooon/withus_ai
    ```
    

# 4. MySQL WorkBench Connection

- MySQL ERD
    
    ![withusERD.png](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%86%E1%85%A2%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%209023352d9df54132871f925801c663e2/withusERD.png)
    

## 4.1 Spring Boot에서 연결

- application.yml (db info)
    
    ```yaml
    spring:
      datasource:
        url: jdbc:mysql://connectwithus.site:3306/withus
        username: {username}
        password: {password}
        driver-class-name: com.mysql.cj.jdbc.Driver
    ```
    

- application.yml
    
    ```yaml
    server:
      port: 9001
    
    spring:
      datasource:
        url: jdbc:mysql://connectwithus.site:3306/withus
        username: {username}
        password: {password}
        driver-class-name: com.mysql.cj.jdbc.Driver
    
      jpa:
        hibernate:
          ddl-auto: update
        properties:
          hibernate:
        defer-datasource-initialization: true
    
      sql:
        init:
          mode: always
    
      security:
        oauth2:
          client:
            registration:
              google:
                client-id: {client-id}
                client-secret: {client-secret}
                redirect-uri: https://connectwithus.site/google
                scope:
                  - openid
                  - email
                  - profile
    
            provider:
              google:
                authorization-uri: https://accounts.google.com/o/oauth2/auth
                token-uri: https://accounts.google.com/o/oauth2/token
                user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo
                user-name-attribute: email
                jwk-set-uri: https://www.googleapis.com/oauth2/v3/certs
      mvc:
        pathmatch:
          matching-strategy: ant_path_matcher
    
      # Multipart 설정
      servlet:
        multipart:
          max-file-size: 100MB # 요청한 파일 한 개의 크기
          max-request-size: 100MB # 요청한 파일 전체의 크기
    
    kakao:
      rest-api-key: {rest-api-key}
      redirect-uri: https://connectwithus.site/kakao
    
    logging:
      level:
        org.hibernate.SQL: debug
        org.hibernate.type: trace
    
    cloud:
      aws:
        s3:
          bucket: withus.bucket
        credentials:
          access-key: {access-key}
          secret-key: {secret-key}
        region:
          static: ap-northeast-2
        stack:
          auto: false
    ```
    

## 4.2 Flask에서 연결

- install pymysql
    
    ```bash
    pip install pymysql
    ```
    
- MySqlConnection Class를 이용하여 연결
    
    ```bash
    import pymysql
    import traceback
    
    class MySqlConnection:
        def __init__(self):
            self.insert_game_result_sql = "INSERT INTO game_result (game_result_id, is_correct, round, prediction, room_id, answer) VALUES (%s, %s, %s, %s, %s, %s)"
        def get_db_connection (self):      
            connection = pymysql.connect(
                host="connectwithus.site", 
                user="withus",
                password="withus",
                database="withus",
                charset='utf8',
                cursorclass=pymysql.cursors.DictCursor,
            )
            return connection
        
        def insert_into_game_result(self, game_result):
            db_connection = None
            try:
                db_connection = self.get_db_connection()
    
                with db_connection.cursor() as cursor:
                    cursor.execute(self.insert_game_result_sql, (
                        game_result['room_id'] * 10 + game_result["round"],
                        game_result['is_correct'],
                        game_result['round'],
                        game_result['prediction'],
                        game_result['room_id'],
                        game_result['answer']
                    ))
                    db_connection.commit()
                    return "OK", 200 
            except pymysql.Error as e:
                traceback.print_exc()
                if db_connection:
                    db_connection.rollback()
                return "Internal Server Error", 500
            finally:
                if db_connection:
                    db_connection.close()
    ```
    

# 5. Nginx default

```bash
# /etc/nginx/nginx.conf
user www-data;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
        worker_connections 768;
        # multi_accept on;
}

http {

        ##
        # Basic Settings
        ##

        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
        keepalive_timeout 65;
        types_hash_max_size 2048;
        # set client body size
        client_max_body_size 20M;
        # server_tokens off;

        # server_names_hash_bucket_size 64;
        # server_name_in_redirect off;

        include /etc/nginx/mime.types;
        default_type application/octet-stream;

        ##
        # SSL Settings
        ##

        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE
        ssl_prefer_server_ciphers on;

        ##
        # Logging Settings
        ##

        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;

        ##
        # Gzip Settings
        ##

        gzip on;

        # gzip_vary on;
        # gzip_proxied any;
        # gzip_comp_level 6;
        # gzip_buffers 16 8k;
        # gzip_http_version 1.1;
        # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

        ##
        # Virtual Host Configs
        ##

        include /etc/nginx/conf.d/*.conf;
        include /etc/nginx/sites-enabled/*;
}
```

# 6. EC2 Setting

## 6.1 Port Setting

- frontend server: 5173
- backend server: 9001
- ai server : 5000
- opendvidu
    - https: 8443
    - http: 8442
    - STUN/TURN server client ips: 3478
    - kurento media server: 40000-57000
    - TURN server establish media connections: 57001 - 65535
    - 5442, 5443, 6379, 8888
- jenkins
    - 8080

## 6.2 EC2 Setting

### 6.2.1 apt initialize update

```jsx
ubuntu@ip-XXX-XX-X-XXX:~$sudo apt-get update
```

### 6.2.2 apt list

```jsx
accountsservice/focal-updates,focal-security,now 0.6.55-0ubuntu12~20.04.6 amd64 [installed,automatic]
acpid/focal,now 1:2.0.32-1ubuntu1 amd64 [installed]
adduser/focal,now 3.118ubuntu2 all [installed,automatic]
alsa-topology-conf/focal,now 1.2.2-1 all [installed,automatic]
alsa-ucm-conf/now 1.2.2-1ubuntu0.1 all [installed,upgradable to: 1.2.2-1ubuntu0.13]
apparmor/now 2.13.3-7ubuntu5.1 amd64 [installed,upgradable to: 2.13.3-7ubuntu5.2]
apport-symptoms/focal,now 0.23 all [installed,automatic]
apport/focal-security,now 2.20.11-0ubuntu27.26 all [installed,upgradable to: 2.20.11-0ubuntu27.27]
apt-utils/focal-security,now 2.0.2ubuntu0.2 amd64 [installed,upgradable to: 2.0.9]
apt/focal-security,now 2.0.2ubuntu0.2 amd64 [installed,upgradable to: 2.0.9]
at/focal,now 3.1.23-1ubuntu1 amd64 [installed,automatic]
base-files/focal,now 11ubuntu5 amd64 [installed,upgradable to: 11ubuntu5.7]
base-passwd/focal,now 3.5.47 amd64 [installed]
bash-completion/focal,now 1:2.10-1ubuntu1 all [installed,automatic]
bash/focal-updates,focal-security,now 5.0-6ubuntu1.2 amd64 [installed]
bc/focal,now 1.07.1-2build1 amd64 [installed,automatic]
bcache-tools/focal,now 1.0.8-3 amd64 [installed,upgradable to: 1.0.8-3ubuntu0.1]
bind9-dnsutils/focal-updates,focal-security,now 1:9.16.1-0ubuntu2.15 amd64 [installed,automatic]
bind9-host/focal-updates,focal-security,now 1:9.16.1-0ubuntu2.15 amd64 [installed,automatic]
bind9-libs/focal-updates,focal-security,now 1:9.16.1-0ubuntu2.15 amd64 [installed,automatic]
binutils-common/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
binutils-x86-64-linux-gnu/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
binutils/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
bolt/focal,now 0.8-4 amd64 [installed,upgradable to: 0.9.1-2~ubuntu20.04.2]
bsdmainutils/focal,now 11.1.2ubuntu3 amd64 [installed,automatic]
bsdutils/focal-security,now 1:2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 1:2.34-0.1ubuntu9.4]
btrfs-progs/focal,now 5.4.1-2 amd64 [installed,automatic]
build-essential/focal-updates,now 12.8ubuntu1.1 amd64 [installed]
busybox-initramfs/focal-updates,focal-security,now 1:1.30.1-4ubuntu6.4 amd64 [installed,automatic]
busybox-static/focal-updates,focal-security,now 1:1.30.1-4ubuntu6.4 amd64 [installed,automatic]
byobu/focal,now 5.133-0ubuntu1 all [installed,automatic]
bzip2/focal,now 1.0.8-2 amd64 [installed,automatic]
ca-certificates-java/focal-updates,focal-security,now 20190405ubuntu1.1 all [installed,automatic]
ca-certificates/focal-updates,focal-security,now 20230311ubuntu0.20.04.1 all [installed,automatic]
certbot/focal-updates,now 0.40.0-1ubuntu0.1 all [installed]
cloud-guest-utils/focal,now 0.31-7-gd99b2d76-0ubuntu1 all [installed,automatic]
cloud-init/focal-security,now 23.1.2-0ubuntu0~20.04.2 all [installed,upgradable to: 23.2.2-0ubuntu0~20.04.1]
cloud-initramfs-copymods/focal,now 0.45ubuntu1 all [installed,upgradable to: 0.45ubuntu2]
cloud-initramfs-dyn-netconf/focal,now 0.45ubuntu1 all [installed,upgradable to: 0.45ubuntu2]
command-not-found/focal,now 20.04.2 all [installed,upgradable to: 20.04.6]
console-setup-linux/focal,now 1.194ubuntu3 all [installed,automatic]
console-setup/focal,now 1.194ubuntu3 all [installed,automatic]
containerd.io/focal,now 1.6.22-1 amd64 [installed]
coreutils/focal,now 8.30-3ubuntu2 amd64 [installed,automatic]
cpio/focal-updates,focal-security,now 2.13+dfsg-2ubuntu0.3 amd64 [installed,automatic]
cpp-9/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
cpp/focal,now 4:9.3.0-1ubuntu2 amd64 [installed,automatic]
cron/focal,now 3.0pl1-136ubuntu1 amd64 [installed,automatic]
cryptsetup-bin/focal-updates,focal-security,now 2:2.2.2-3ubuntu2.4 amd64 [installed,automatic]
cryptsetup-initramfs/focal-updates,focal-security,now 2:2.2.2-3ubuntu2.4 all [installed,automatic]
cryptsetup-run/focal-updates,focal-security,now 2:2.2.2-3ubuntu2.4 all [installed,automatic]
cryptsetup/focal-updates,focal-security,now 2:2.2.2-3ubuntu2.4 amd64 [installed,automatic]
curl/focal-updates,focal-security,now 7.68.0-1ubuntu2.19 amd64 [installed]
dash/focal,now 0.5.10.2-6 amd64 [installed]
dbus-user-session/focal-updates,focal-security,now 1.12.16-2ubuntu2.3 amd64 [installed,automatic]
dbus/focal-updates,focal-security,now 1.12.16-2ubuntu2.3 amd64 [installed,automatic]
dconf-gsettings-backend/focal,now 0.36.0-1 amd64 [installed,automatic]
dconf-service/focal,now 0.36.0-1 amd64 [installed,automatic]
debconf-i18n/focal,now 1.5.73 all [installed,automatic]
debconf/focal,now 1.5.73 all [installed,automatic]
debianutils/focal,now 4.9.1 amd64 [installed,automatic]
diffutils/focal,now 1:3.7-3 amd64 [installed]
dirmngr/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
distro-info-data/focal-security,now 0.43ubuntu1.10 all [installed,upgradable to: 0.43ubuntu1.13]
dmeventd/focal,now 2:1.02.167-1ubuntu1 amd64 [installed,automatic]
dmidecode/focal,now 3.2-3 amd64 [installed,automatic]
dmsetup/focal,now 2:1.02.167-1ubuntu1 amd64 [installed,automatic]
docker-buildx-plugin/focal,now 0.11.2-1~ubuntu.20.04~focal amd64 [installed]
docker-ce-cli/focal,now 5:24.0.5-1~ubuntu.20.04~focal amd64 [installed]
docker-ce-rootless-extras/focal,now 5:24.0.5-1~ubuntu.20.04~focal amd64 [installed,automatic]
docker-ce/focal,now 5:24.0.5-1~ubuntu.20.04~focal amd64 [installed]
docker-compose-plugin/focal,now 2.20.2-1~ubuntu.20.04~focal amd64 [installed]
dosfstools/focal,now 4.1-2 amd64 [installed,automatic]
dpkg-dev/focal-updates,focal-security,now 1.19.7ubuntu3.2 all [installed,automatic]
dpkg/focal-updates,focal-security,now 1.19.7ubuntu3.2 amd64 [installed,automatic]
e2fsprogs/focal-updates,focal-security,now 1.45.5-2ubuntu1.1 amd64 [installed,automatic]
eatmydata/focal,now 105-7 all [installed]
ec2-hibinit-agent/focal,now 1.0.0-0ubuntu9 all [installed,upgradable to: 1.0.0-0ubuntu9.4]
ec2-instance-connect/focal,now 1.1.12+dfsg1-0ubuntu3 all [installed,upgradable to: 1.1.12+dfsg1-0ubuntu3.20.04.1]
ed/focal,now 1.16-1 amd64 [installed,automatic]
eject/focal,now 2.1.5+deb1+cvs20081104-14 amd64 [installed,automatic]
ethtool/focal,now 1:5.4-1 amd64 [installed,automatic]
fakeroot/focal,now 1.24-1 amd64 [installed,automatic]
fdisk/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
file/focal,now 1:5.38-4 amd64 [installed,automatic]
finalrd/focal,now 5 all [installed,upgradable to: 6~ubuntu20.04.1]
findutils/focal,now 4.7.0-1ubuntu1 amd64 [installed]
fontconfig-config/focal,now 2.13.1-2ubuntu3 all [installed,automatic]
fonts-dejavu-core/focal,now 2.37-1 all [installed,automatic]
fonts-ubuntu-console/focal,now 0.83-4ubuntu1 all [installed,automatic]
friendly-recovery/focal,now 0.2.41 all [installed,upgradable to: 0.2.41ubuntu0.20.04.1]
ftp/focal,now 0.17-34.1 amd64 [installed,automatic]
fuse/focal,now 2.9.9-3 amd64 [installed,automatic]
fwupd-signed/now 1.27.1ubuntu2+1.3.11-1~focal1 amd64 [installed,upgradable to: 1.51.1~20.04.1+1.4-0ubuntu0.1]
fwupd/now 1.3.11-1~focal1 amd64 [installed,upgradable to: 1.7.9-1~20.04.3]
g++-9/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
g++/focal,now 4:9.3.0-1ubuntu2 amd64 [installed,automatic]
gawk/focal,now 1:5.0.1+dfsg-1 amd64 [installed,automatic]
gcc-10-base/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
gcc-9-base/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
gcc-9/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
gcc/focal,now 4:9.3.0-1ubuntu2 amd64 [installed,automatic]
gdisk/focal,now 1.0.5-1 amd64 [installed,automatic]
gettext-base/focal,now 0.19.8.1-10build1 amd64 [installed,automatic]
gir1.2-glib-2.0/focal-updates,now 1.64.1-1~ubuntu20.04.1 amd64 [installed,automatic]
gir1.2-packagekitglib-1.0/focal-updates,focal-security,now 1.1.13-2ubuntu1.1 amd64 [installed,automatic]
git-man/focal-updates,focal-security,now 1:2.25.1-1ubuntu3.11 all [installed,automatic]
git/focal-updates,focal-security,now 1:2.25.1-1ubuntu3.11 amd64 [installed,automatic]
glib-networking-common/focal-updates,focal-security,now 2.64.2-1ubuntu0.1 all [installed,automatic]
glib-networking-services/focal-updates,focal-security,now 2.64.2-1ubuntu0.1 amd64 [installed,automatic]
glib-networking/focal-updates,focal-security,now 2.64.2-1ubuntu0.1 amd64 [installed,automatic]
gnupg-l10n/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 all [installed,automatic]
gnupg-utils/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gnupg/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 all [installed]
gpg-agent/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpg-wks-client/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpg-wks-server/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpg/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpgconf/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpgsm/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpgv/focal-updates,focal-security,now 2.2.19-3ubuntu2.2 amd64 [installed,automatic]
gpustat/focal,now 0.6.0-1 all [installed]
grep/focal,now 3.4-1 amd64 [installed]
groff-base/focal,now 1.22.4-4build1 amd64 [installed,automatic]
grub-common/focal-security,now 2.04-1ubuntu26.12 amd64 [installed,upgradable to: 2.04-1ubuntu26.17]
grub-gfxpayload-lists/focal,now 0.7 amd64 [installed,automatic]
grub-pc-bin/focal-security,now 2.04-1ubuntu26.12 amd64 [installed,upgradable to: 2.04-1ubuntu26.17]
grub-pc/focal-security,now 2.04-1ubuntu26.12 amd64 [installed,upgradable to: 2.04-1ubuntu26.17]
grub2-common/focal-security,now 2.04-1ubuntu26.12 amd64 [installed,upgradable to: 2.04-1ubuntu26.17]
gsettings-desktop-schemas/focal,now 3.36.0-1ubuntu1 all [installed,automatic]
gzip/focal-updates,focal-security,now 1.10-0ubuntu4.1 amd64 [installed]
hdparm/focal,now 9.58+ds-4 amd64 [installed,automatic]
hibagent/focal,now 1.0.1-0ubuntu1 all [installed,upgradable to: 1.0.1-0ubuntu1.20.04.1]
hostname/focal,now 3.23 amd64 [installed]
htop/focal,now 2.2.0-2build1 amd64 [installed,automatic]
info/focal,now 6.7.0.dfsg.2-5 amd64 [installed,automatic]
init-system-helpers/focal,now 1.57 all [installed,automatic]
init/focal,now 1.57 amd64 [installed]
initramfs-tools-bin/now 0.136ubuntu6.2 amd64 [installed,upgradable to: 0.136ubuntu6.7]
initramfs-tools-core/now 0.136ubuntu6.2 all [installed,upgradable to: 0.136ubuntu6.7]
initramfs-tools/now 0.136ubuntu6.2 all [installed,upgradable to: 0.136ubuntu6.7]
install-info/focal,now 6.7.0.dfsg.2-5 amd64 [installed,automatic]
iproute2/focal,now 5.5.0-1ubuntu1 amd64 [installed,automatic]
iptables/focal,now 1.8.4-3ubuntu2 amd64 [installed,upgradable to: 1.8.4-3ubuntu2.1]
iputils-ping/focal,now 3:20190709-3 amd64 [installed,automatic]
iputils-tracepath/focal,now 3:20190709-3 amd64 [installed,automatic]
irqbalance/focal,now 1.6.0-3ubuntu1 amd64 [installed,automatic]
isc-dhcp-client/focal-security,now 4.4.1-2.1ubuntu5.20.04.4 amd64 [installed,upgradable to: 4.4.1-2.1ubuntu5.20.04.5]
isc-dhcp-common/focal-security,now 4.4.1-2.1ubuntu5.20.04.4 amd64 [installed,upgradable to: 4.4.1-2.1ubuntu5.20.04.5]
iso-codes/focal,now 4.4-1 all [installed,automatic]
java-common/focal,now 0.72 all [installed,automatic]
kbd/focal,now 2.0.4-4ubuntu2 amd64 [installed,automatic]
keyboard-configuration/focal,now 1.194ubuntu3 all [installed,automatic]
klibc-utils/focal-updates,focal-security,now 2.0.7-1ubuntu5.1 amd64 [installed,automatic]
kmod/focal,now 27-1ubuntu2 amd64 [installed,upgradable to: 27-1ubuntu2.1]
kpartx/focal-updates,focal-security,now 0.8.3-1ubuntu2.1 amd64 [installed,automatic]
krb5-locales/focal-updates,focal-security,now 1.17-6ubuntu4.3 all [installed,automatic]
landscape-common/now 19.12-0ubuntu4.1 amd64 [installed,upgradable to: 19.12-0ubuntu4.3]
language-selector-common/focal,now 0.204 all [installed,upgradable to: 0.204.2]
less/focal-updates,now 551-1ubuntu0.1 amd64 [installed,automatic]
libaccountsservice0/focal-updates,focal-security,now 0.6.55-0ubuntu12~20.04.6 amd64 [installed,automatic]
libacl1/focal,now 2.2.53-6 amd64 [installed,automatic]
libaio1/focal,now 0.3.112-5 amd64 [installed,automatic]
libalgorithm-diff-perl/focal,now 1.19.03-2 all [installed,automatic]
libalgorithm-diff-xs-perl/focal,now 0.04-6 amd64 [installed,automatic]
libalgorithm-merge-perl/focal,now 0.08-3 all [installed,automatic]
libaopalliance-java/focal,now 20070526-6 all [installed,automatic]
libapache-pom-java/focal,now 18-1 all [installed,automatic]
libapparmor1/now 2.13.3-7ubuntu5.1 amd64 [installed,upgradable to: 2.13.3-7ubuntu5.2]
libappstream4/focal,now 0.12.10-2 amd64 [installed,automatic]
libapt-pkg6.0/focal-security,now 2.0.2ubuntu0.2 amd64 [installed,upgradable to: 2.0.9]
libarchive13/focal-updates,focal-security,now 3.4.0-2ubuntu1.2 amd64 [installed,automatic]
libargon2-1/focal,now 0~20171227-0.2 amd64 [installed,automatic]
libasan5/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
libasn1-8-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libasound2-data/now 1.2.2-2.1ubuntu1 all [installed,upgradable to: 1.2.2-2.1ubuntu2.5]
libasound2/now 1.2.2-2.1ubuntu1 amd64 [installed,upgradable to: 1.2.2-2.1ubuntu2.5]
libassuan0/focal,now 2.5.3-7ubuntu2 amd64 [installed,automatic]
libatinject-jsr330-api-java/focal,now 1.0+ds1-5 all [installed,automatic]
libatm1/focal,now 1:2.5.1-4 amd64 [installed,automatic]
libatomic1/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libattr1/focal,now 1:2.4.48-5 amd64 [installed,automatic]
libaudit-common/focal,now 1:2.8.5-2ubuntu6 all [installed,automatic]
libaudit1/focal,now 1:2.8.5-2ubuntu6 amd64 [installed,automatic]
libavahi-client3/focal-updates,focal-security,now 0.7-4ubuntu7.2 amd64 [installed,automatic]
libavahi-common-data/focal-updates,focal-security,now 0.7-4ubuntu7.2 amd64 [installed,automatic]
libavahi-common3/focal-updates,focal-security,now 0.7-4ubuntu7.2 amd64 [installed,automatic]
libbinutils/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
libblkid1/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
libbrotli1/focal-updates,focal-security,now 1.0.7-6ubuntu0.1 amd64 [installed,automatic]
libbsd0/focal,now 0.10.0-1 amd64 [installed,automatic]
libbz2-1.0/focal,now 1.0.8-2 amd64 [installed,automatic]
libc-ares2/focal-updates,focal-security,now 1.15.0-1ubuntu0.3 amd64 [installed,auto-removable]
libc-bin/focal-security,now 2.31-0ubuntu9.7 amd64 [installed,upgradable to: 2.31-0ubuntu9.9]
libc-dev-bin/focal-updates,now 2.31-0ubuntu9.9 amd64 [installed,automatic]
libc6-dev/focal-updates,now 2.31-0ubuntu9.9 amd64 [installed,automatic]
libc6/focal-updates,now 2.31-0ubuntu9.9 amd64 [installed,automatic]
libcanberra0/focal,now 0.30-7ubuntu1 amd64 [installed,automatic]
libcap-ng0/focal,now 0.7.9-2.1build1 amd64 [installed,automatic]
libcap2-bin/focal-updates,focal-security,now 1:2.32-1ubuntu0.1 amd64 [installed,automatic]
libcap2/focal-updates,focal-security,now 1:2.32-1ubuntu0.1 amd64 [installed,automatic]
libcbor0.6/focal,now 0.6.0-0ubuntu1 amd64 [installed,automatic]
libcc1-0/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libcdi-api-java/focal,now 1.2-2 all [installed,automatic]
libcgi-fast-perl/focal,now 1:2.15-1 all [installed,automatic]
libcgi-pm-perl/focal,now 4.46-1 all [installed,automatic]
libcom-err2/focal-updates,focal-security,now 1.45.5-2ubuntu1.1 amd64 [installed,automatic]
libcommons-cli-java/focal,now 1.4-1 all [installed,automatic]
libcommons-io-java/focal-updates,focal-security,now 2.6-2ubuntu0.20.04.1 all [installed,automatic]
libcommons-lang3-java/focal,now 3.8-2 all [installed,automatic]
libcommons-parent-java/focal,now 43-1 all [installed,automatic]
libcrypt-dev/focal,now 1:4.4.10-10ubuntu4 amd64 [installed,automatic]
libcrypt1/focal,now 1:4.4.10-10ubuntu4 amd64 [installed,automatic]
libcryptsetup12/focal-updates,focal-security,now 2:2.2.2-3ubuntu2.4 amd64 [installed,automatic]
libctf-nobfd0/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
libctf0/focal-updates,focal-security,now 2.34-6ubuntu1.6 amd64 [installed,automatic]
libcups2/focal-updates,focal-security,now 2.3.1-9ubuntu1.4 amd64 [installed,automatic]
libcurl3-gnutls/focal-updates,focal-security,now 7.68.0-1ubuntu2.19 amd64 [installed,automatic]
libcurl4/focal-updates,focal-security,now 7.68.0-1ubuntu2.19 amd64 [installed,automatic]
libdb5.3/focal,now 5.3.28+dfsg1-0.6ubuntu2 amd64 [installed,automatic]
libdbus-1-3/focal-updates,focal-security,now 1.12.16-2ubuntu2.3 amd64 [installed,automatic]
libdconf1/focal,now 0.36.0-1 amd64 [installed,automatic]
libdebconfclient0/focal,now 0.251ubuntu1 amd64 [installed]
libdevmapper-event1.02.1/focal,now 2:1.02.167-1ubuntu1 amd64 [installed,automatic]
libdevmapper1.02.1/focal,now 2:1.02.167-1ubuntu1 amd64 [installed,automatic]
libdns-export1109/focal,now 1:9.11.16+dfsg-3~build1 amd64 [installed,upgradable to: 1:9.11.16+dfsg-3~ubuntu1]
libdpkg-perl/focal-updates,focal-security,now 1.19.7ubuntu3.2 all [installed,automatic]
libdrm-common/focal-updates,focal-security,now 2.4.107-8ubuntu1~20.04.2 all [installed,automatic]
libdrm2/focal-updates,focal-security,now 2.4.107-8ubuntu1~20.04.2 amd64 [installed,automatic]
libeatmydata1/focal,now 105-7 amd64 [installed]
libedit2/focal,now 3.1-20191231-1 amd64 [installed,automatic]
libefiboot1/focal,now 37-2ubuntu2 amd64 [installed,upgradable to: 37-2ubuntu2.2]
libefivar1/focal,now 37-2ubuntu2 amd64 [installed,upgradable to: 37-2ubuntu2.2]
libelf1/focal,now 0.176-1.1build1 amd64 [installed,automatic]
libencode-locale-perl/focal,now 1.05-1 all [installed,automatic]
liberror-perl/focal,now 0.17029-1 all [installed,automatic]
libestr0/focal,now 0.1.10-2.1 amd64 [installed,automatic]
libevent-2.1-7/focal,now 2.1.11-stable-1 amd64 [installed,automatic]
libevent-core-2.1-7/focal,now 2.1.11-stable-1 amd64 [installed,automatic]
libevent-pthreads-2.1-7/focal,now 2.1.11-stable-1 amd64 [installed,automatic]
libexpat1-dev/focal-updates,focal-security,now 2.2.9-1ubuntu0.6 amd64 [installed,automatic]
libexpat1/focal-updates,focal-security,now 2.2.9-1ubuntu0.6 amd64 [installed,automatic]
libext2fs2/focal-updates,focal-security,now 1.45.5-2ubuntu1.1 amd64 [installed,automatic]
libfakeroot/focal,now 1.24-1 amd64 [installed,automatic]
libfastjson4/focal,now 0.99.8-2 amd64 [installed,automatic]
libfcgi-perl/focal,now 0.79-1 amd64 [installed,automatic]
libfdisk1/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
libffi7/focal,now 3.3-4 amd64 [installed,automatic]
libfido2-1/focal,now 1.3.1-1ubuntu2 amd64 [installed,automatic]
libfile-fcntllock-perl/focal,now 0.22-3build4 amd64 [installed,automatic]
libfl2/focal,now 2.6.4-6.2 amd64 [installed,automatic]
libfontconfig1/focal,now 2.13.1-2ubuntu3 amd64 [installed,automatic]
libfreetype6/focal-updates,focal-security,now 2.10.1-2ubuntu0.3 amd64 [installed,automatic]
libfribidi0/focal-updates,focal-security,now 1.0.8-2ubuntu0.1 amd64 [installed,automatic]
libfuse2/focal,now 2.9.9-3 amd64 [installed,automatic]
libfwupd2/now 1.3.11-1~focal1 amd64 [installed,upgradable to: 1.7.9-1~20.04.3]
libfwupdplugin1/now 1.3.11-1~focal1 amd64 [installed,upgradable to: 1.5.11-0ubuntu1~20.04.2]
libgcab-1.0-0/focal,now 1.4-1 amd64 [installed,automatic]
libgcc-9-dev/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
libgcc-s1/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libgcrypt20/focal-updates,focal-security,now 1.8.5-5ubuntu1.1 amd64 [installed,automatic]
libgd3/focal-updates,focal-security,now 2.2.5-5.2ubuntu2.1 amd64 [installed,automatic]
libgdbm-compat4/focal,now 1.18.1-5 amd64 [installed,automatic]
libgdbm6/focal,now 1.18.1-5 amd64 [installed,automatic]
libgeronimo-annotation-1.3-spec-java/focal,now 1.0-1 all [installed,automatic]
libgeronimo-interceptor-3.0-spec-java/focal,now 1.0.1-4fakesync all [installed,automatic]
libgirepository-1.0-1/focal-updates,now 1.64.1-1~ubuntu20.04.1 amd64 [installed,automatic]
libglib2.0-0/focal-updates,focal-security,now 2.64.6-1~ubuntu20.04.6 amd64 [installed,automatic]
libglib2.0-bin/focal-updates,focal-security,now 2.64.6-1~ubuntu20.04.6 amd64 [installed,automatic]
libglib2.0-data/focal-updates,focal-security,now 2.64.6-1~ubuntu20.04.6 all [installed,automatic]
libgmp10/focal-updates,focal-security,now 2:6.2.0+dfsg-4ubuntu0.1 amd64 [installed,automatic]
libgnutls30/focal-updates,focal-security,now 3.6.13-2ubuntu1.8 amd64 [installed,automatic]
libgomp1/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libgpg-error0/focal,now 1.37-1 amd64 [installed,automatic]
libgpgme11/focal,now 1.13.1-7ubuntu2 amd64 [installed,upgradable to: 1.13.1-7ubuntu2.1]
libgpm2/focal,now 1.20.7-5 amd64 [installed,automatic]
libgraphite2-3/focal,now 1.3.13-11build1 amd64 [installed,automatic]
libgssapi-krb5-2/focal-updates,focal-security,now 1.17-6ubuntu4.3 amd64 [installed,automatic]
libgssapi3-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libgstreamer1.0-0/focal-updates,focal-security,now 1.16.3-0ubuntu1.1 amd64 [installed,automatic]
libguava-java/focal,now 19.0-1 all [installed,automatic]
libgudev-1.0-0/focal,now 1:233-1 amd64 [installed,automatic]
libguice-java/focal,now 4.2.1-1 all [installed,automatic]
libgusb2/focal,now 0.3.4-0.1 amd64 [installed,automatic]
libharfbuzz0b/focal-updates,focal-security,now 2.6.4-1ubuntu4.2 amd64 [installed,automatic]
libhawtjni-runtime-java/focal,now 1.17-1 all [installed,automatic]
libhcrypto4-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libheimbase1-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libheimntlm0-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libhogweed5/focal-updates,focal-security,now 3.5.1+really3.5.1-2ubuntu0.2 amd64 [installed,automatic]
libhtml-parser-perl/focal,now 3.72-5 amd64 [installed,automatic]
libhtml-tagset-perl/focal,now 3.20-4 all [installed,automatic]
libhtml-template-perl/focal,now 2.97-1 all [installed,automatic]
libhttp-date-perl/focal,now 6.05-1 all [installed,automatic]
libhttp-message-perl/focal,now 6.22-1 all [installed,automatic]
libhx509-5-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libicu66/focal-updates,focal-security,now 66.1-2ubuntu2.1 amd64 [installed,automatic]
libidn2-0/focal,now 2.2.0-2 amd64 [installed,automatic]
libio-html-perl/focal,now 1.001-1 all [installed,automatic]
libip4tc2/focal,now 1.8.4-3ubuntu2 amd64 [installed,upgradable to: 1.8.4-3ubuntu2.1]
libip6tc2/focal,now 1.8.4-3ubuntu2 amd64 [installed,upgradable to: 1.8.4-3ubuntu2.1]
libisc-export1105/focal,now 1:9.11.16+dfsg-3~build1 amd64 [installed,upgradable to: 1:9.11.16+dfsg-3~ubuntu1]
libisl22/focal,now 0.22.1-1 amd64 [installed,automatic]
libisns0/focal,now 0.97-3 amd64 [installed,automatic]
libitm1/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libjansi-java/focal,now 1.18-1 all [installed,automatic]
libjansi-native-java/focal,now 1.8-1 all [installed,automatic]
libjbig0/focal-updates,focal-security,now 2.1-3.1ubuntu0.20.04.1 amd64 [installed,automatic]
libjpeg-turbo8/focal-updates,focal-security,now 2.0.3-0ubuntu1.20.04.3 amd64 [installed,automatic]
libjpeg8/focal,now 8c-2ubuntu8 amd64 [installed,automatic]
libjson-c4/focal-updates,focal-security,now 0.13.1+dfsg-7ubuntu0.3 amd64 [installed,automatic]
libjson-glib-1.0-0/focal,now 1.4.4-2ubuntu2 amd64 [installed,automatic]
libjson-glib-1.0-common/focal,now 1.4.4-2ubuntu2 all [installed,automatic]
libjsr305-java/focal,now 0.1~+svn49-11 all [installed,automatic]
libk5crypto3/focal-updates,focal-security,now 1.17-6ubuntu4.3 amd64 [installed,automatic]
libkeyutils1/focal,now 1.6-6ubuntu1 amd64 [installed,upgradable to: 1.6-6ubuntu1.1]
libklibc/focal-updates,focal-security,now 2.0.7-1ubuntu5.1 amd64 [installed,automatic]
libkmod2/focal,now 27-1ubuntu2 amd64 [installed,upgradable to: 27-1ubuntu2.1]
libkrb5-26-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libkrb5-3/focal-updates,focal-security,now 1.17-6ubuntu4.3 amd64 [installed,automatic]
libkrb5support0/focal-updates,focal-security,now 1.17-6ubuntu4.3 amd64 [installed,automatic]
libksba8/focal-updates,focal-security,now 1.3.5-2ubuntu0.20.04.2 amd64 [installed,automatic]
liblcms2-2/focal,now 2.9-4 amd64 [installed,automatic]
libldap-2.4-2/focal-updates,focal-security,now 2.4.49+dfsg-2ubuntu1.9 amd64 [installed,automatic]
libldap-common/focal-updates,focal-security,now 2.4.49+dfsg-2ubuntu1.9 all [installed,automatic]
liblmdb0/focal,now 0.9.24-1 amd64 [installed,automatic]
liblocale-gettext-perl/focal,now 1.07-4 amd64 [installed,automatic]
liblsan0/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libltdl7/focal,now 2.4.6-14 amd64 [installed,automatic]
liblvm2cmd2.03/focal,now 2.03.07-1ubuntu1 amd64 [installed,automatic]
liblwp-mediatypes-perl/focal,now 6.04-1 all [installed,automatic]
liblz4-1/focal-updates,focal-security,now 1.9.2-2ubuntu0.20.04.1 amd64 [installed,automatic]
liblzma5/focal-updates,focal-security,now 5.2.4-1ubuntu1.1 amd64 [installed,automatic]
liblzo2-2/focal,now 2.10-2 amd64 [installed,automatic]
libmagic-mgc/focal,now 1:5.38-4 amd64 [installed,automatic]
libmagic1/focal,now 1:5.38-4 amd64 [installed,automatic]
libmaven-parent-java/focal,now 31-2 all [installed,automatic]
libmaven-resolver-java/focal,now 1.4.1-1 all [installed,automatic]
libmaven-shared-utils-java/focal,now 3.3.0-1 all [installed,automatic]
libmaven3-core-java/focal,now 3.6.3-1 all [installed,automatic]
libmaxminddb0/focal-updates,focal-security,now 1.4.2-0ubuntu1.20.04.1 amd64 [installed,automatic]
libmecab2/focal,now 0.996-10build1 amd64 [installed,automatic]
libmnl0/focal,now 1.0.4-2 amd64 [installed,automatic]
libmount1/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
libmpc3/focal,now 1.1.0-1 amd64 [installed,automatic]
libmpdec2/focal,now 2.4.2-3 amd64 [installed,automatic]
libmpfr6/focal,now 4.0.2-1 amd64 [installed,automatic]
libmspack0/focal,now 0.10.1-2 amd64 [installed,automatic]
libncurses6/focal-updates,focal-security,now 6.2-0ubuntu2.1 amd64 [installed,automatic]
libncursesw6/focal-updates,focal-security,now 6.2-0ubuntu2.1 amd64 [installed,automatic]
libnetfilter-conntrack3/focal,now 1.0.7-2 amd64 [installed,automatic]
libnetplan0/now 0.99-0ubuntu3~20.04.2 amd64 [installed,upgradable to: 0.104-0ubuntu2~20.04.2]
libnettle7/focal-updates,focal-security,now 3.5.1+really3.5.1-2ubuntu0.2 amd64 [installed,automatic]
libnewt0.52/focal,now 0.52.21-4ubuntu2 amd64 [installed,automatic]
libnfnetlink0/focal,now 1.0.1-3build1 amd64 [installed,automatic]
libnftnl11/focal,now 1.1.5-1 amd64 [installed,automatic]
libnghttp2-14/focal-updates,focal-security,now 1.40.0-1ubuntu0.1 amd64 [installed,automatic]
libnginx-mod-http-image-filter/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 amd64 [installed,automatic]
libnginx-mod-http-xslt-filter/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 amd64 [installed,automatic]
libnginx-mod-mail/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 amd64 [installed,automatic]
libnginx-mod-stream/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 amd64 [installed,automatic]
libnpth0/focal,now 1.6-1 amd64 [installed,automatic]
libnspr4/focal,now 2:4.25-1 amd64 [installed,automatic]
libnss-systemd/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
libnss3/focal-updates,focal-security,now 2:3.49.1-1ubuntu1.9 amd64 [installed,automatic]
libntfs-3g883/focal-updates,focal-security,now 1:2017.3.23AR.3-3ubuntu1.3 amd64 [installed,automatic]
libnuma1/focal,now 2.0.12-1 amd64 [installed,automatic]
libnvidia-compute-418-server/focal-updates,focal-security,now 418.226.00-0ubuntu0.20.04.2 amd64 [installed,automatic]
libogg0/focal,now 1.3.4-0ubuntu1 amd64 [installed,automatic]
libp11-kit0/focal-updates,focal-security,now 0.23.20-1ubuntu0.1 amd64 [installed,automatic]
libpackagekit-glib2-18/focal-updates,focal-security,now 1.1.13-2ubuntu1.1 amd64 [installed,automatic]
libpam-cap/focal-updates,focal-security,now 1:2.32-1ubuntu0.1 amd64 [installed,automatic]
libpam-modules-bin/focal-updates,focal-security,now 1.3.1-5ubuntu4.6 amd64 [installed,automatic]
libpam-modules/focal-updates,focal-security,now 1.3.1-5ubuntu4.6 amd64 [installed,automatic]
libpam-runtime/focal-updates,focal-security,now 1.3.1-5ubuntu4.6 all [installed,automatic]
libpam-systemd/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
libpam0g/focal-updates,focal-security,now 1.3.1-5ubuntu4.6 amd64 [installed,automatic]
libparted2/focal,now 3.3-4 amd64 [installed,upgradable to: 3.3-4ubuntu0.20.04.1]
libpcap0.8/focal,now 1.9.1-3 amd64 [installed,automatic]
libpci3/focal,now 1:3.6.4-1 amd64 [installed,upgradable to: 1:3.6.4-1ubuntu0.20.04.1]
libpcre2-8-0/focal-updates,focal-security,now 10.34-7ubuntu0.1 amd64 [installed,automatic]
libpcre3/focal-updates,focal-security,now 2:8.39-12ubuntu0.1 amd64 [installed,automatic]
libpcsclite1/focal,now 1.8.26-3 amd64 [installed,automatic]
libperl5.30/focal-updates,focal-security,now 5.30.0-9ubuntu0.4 amd64 [installed,automatic]
libpipeline1/focal,now 1.5.2-2build1 amd64 [installed,automatic]
libplexus-cipher-java/focal,now 1.7-3 all [installed,automatic]
libplexus-classworlds-java/focal,now 2.6.0-1 all [installed,automatic]
libplexus-component-annotations-java/focal,now 2.1.0-1 all [installed,automatic]
libplexus-interpolation-java/focal,now 1.26-1 all [installed,automatic]
libplexus-sec-dispatcher-java/focal,now 1.4-4 all [installed,automatic]
libplexus-utils2-java/focal,now 3.3.0-1 all [installed,automatic]
libplymouth5/focal,now 0.9.4git20200323-0ubuntu6 amd64 [installed,upgradable to: 0.9.4git20200323-0ubuntu6.2]
libpng16-16/focal,now 1.6.37-2 amd64 [installed,automatic]
libpolkit-agent-1-0/focal-updates,focal-security,now 0.105-26ubuntu1.3 amd64 [installed,automatic]
libpolkit-gobject-1-0/focal-updates,focal-security,now 0.105-26ubuntu1.3 amd64 [installed,automatic]
libpopt0/focal,now 1.16-14 amd64 [installed,automatic]
libprocps8/focal,now 2:3.3.16-1ubuntu2 amd64 [installed,upgradable to: 2:3.3.16-1ubuntu2.3]
libproxy1v5/focal-updates,focal-security,now 0.4.15-10ubuntu1.2 amd64 [installed,automatic]
libpsl5/focal,now 0.21.0-1ubuntu1 amd64 [installed,automatic]
libpython3-dev/focal,now 3.8.2-0ubuntu2 amd64 [installed,automatic]
libpython3-stdlib/focal,now 3.8.2-0ubuntu2 amd64 [installed,automatic]
libpython3.8-dev/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
libpython3.8-minimal/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
libpython3.8-stdlib/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
libpython3.8/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
libquadmath0/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libreadline5/focal,now 5.2+dfsg-3build3 amd64 [installed,automatic]
libreadline8/focal,now 8.0-4 amd64 [installed,automatic]
libroken18-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
librtmp1/focal,now 2.4+20151223.gitfa8646d.1-2build1 amd64 [installed,automatic]
libsasl2-2/focal-updates,focal-security,now 2.1.27+dfsg-2ubuntu0.1 amd64 [installed,automatic]
libsasl2-modules-db/focal-updates,focal-security,now 2.1.27+dfsg-2ubuntu0.1 amd64 [installed,automatic]
libsasl2-modules/focal-updates,focal-security,now 2.1.27+dfsg-2ubuntu0.1 amd64 [installed,automatic]
libseccomp2/focal-updates,focal-security,now 2.5.1-1ubuntu1~20.04.2 amd64 [installed,automatic]
libselinux1/focal,now 3.0-1build2 amd64 [installed,automatic]
libsemanage-common/focal,now 3.0-1build2 all [installed,automatic]
libsemanage1/focal,now 3.0-1build2 amd64 [installed,automatic]
libsepol1/focal-updates,focal-security,now 3.0-1ubuntu0.1 amd64 [installed,automatic]
libsgutils2-2/focal,now 1.44-1ubuntu2 amd64 [installed,automatic]
libsigsegv2/focal,now 2.12-2 amd64 [installed,automatic]
libsisu-inject-java/focal,now 0.3.3-1 all [installed,automatic]
libsisu-plexus-java/focal,now 0.3.3-3 all [installed,automatic]
libslang2/focal,now 2.3.2-4 amd64 [installed,automatic]
libslf4j-java/focal,now 1.7.25-3 all [installed,automatic]
libsmartcols1/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
libsmbios-c2/focal,now 2.4.3-1 amd64 [installed,automatic]
libsodium23/focal,now 1.0.18-1 amd64 [installed]
libsoup2.4-1/focal,now 2.70.0-1 amd64 [installed,automatic]
libsqlite3-0/focal-updates,focal-security,now 3.31.1-4ubuntu0.5 amd64 [installed,automatic]
libss2/focal-updates,focal-security,now 1.45.5-2ubuntu1.1 amd64 [installed,automatic]
libssh-4/focal-updates,focal-security,now 0.9.3-2ubuntu2.3 amd64 [installed,automatic]
libssl1.1/focal-updates,focal-security,now 1.1.1f-1ubuntu2.19 amd64 [installed,automatic]
libstdc++-9-dev/focal-updates,focal-security,now 9.4.0-1ubuntu1~20.04.1 amd64 [installed,automatic]
libstdc++6/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libstemmer0d/focal,now 0+svn585-2 amd64 [installed,automatic]
libsystemd0/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
libtasn1-6/focal,now 4.16.0-2 amd64 [installed,automatic]
libtdb1/focal-updates,focal-security,now 1.4.5-0ubuntu0.20.04.1 amd64 [installed,automatic]
libtext-charwidth-perl/focal,now 0.04-10 amd64 [installed,automatic]
libtext-iconv-perl/focal,now 1.7-7 amd64 [installed,automatic]
libtext-wrapi18n-perl/focal,now 0.06-9 all [installed,automatic]
libtiff5/focal-updates,focal-security,now 4.1.0+git191117-2ubuntu0.20.04.8 amd64 [installed,automatic]
libtimedate-perl/focal,now 2.3200-1 all [installed,automatic]
libtinfo6/focal-updates,focal-security,now 6.2-0ubuntu2.1 amd64 [installed,automatic]
libtsan0/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libtss2-esys0/focal,now 2.3.2-1 amd64 [installed,upgradable to: 2.3.2-1ubuntu0.20.04.1]
libubsan1/focal-updates,focal-security,now 10.5.0-1ubuntu1~20.04 amd64 [installed,automatic]
libuchardet0/focal,now 0.0.6-3build1 amd64 [installed,automatic]
libudev1/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
libunistring2/focal,now 0.9.10-2 amd64 [installed,automatic]
libunwind8/focal,now 1.2.1-9build1 amd64 [installed,upgradable to: 1.2.1-9ubuntu0.1]
liburcu6/focal,now 0.11.1-2 amd64 [installed,automatic]
liburi-perl/focal,now 1.76-2 all [installed,automatic]
libusb-1.0-0/focal,now 2:1.0.23-2build1 amd64 [installed,automatic]
libutempter0/focal,now 1.1.6-4 amd64 [installed,automatic]
libuuid1/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
libuv1/focal-updates,focal-security,now 1.34.2-1ubuntu1.3 amd64 [installed,automatic]
libvorbis0a/focal,now 1.3.6-2ubuntu1 amd64 [installed,automatic]
libvorbisfile3/focal,now 1.3.6-2ubuntu1 amd64 [installed,automatic]
libwagon-file-java/focal,now 3.3.4-1 all [installed,automatic]
libwagon-http-shaded-java/focal,now 3.3.4-1 all [installed,automatic]
libwagon-provider-api-java/focal,now 3.3.4-1 all [installed,automatic]
libwebp6/focal-updates,focal-security,now 0.6.1-2ubuntu0.20.04.2 amd64 [installed,automatic]
libwind0-heimdal/focal-updates,focal-security,now 7.7.0+dfsg-1ubuntu1.4 amd64 [installed,automatic]
libwrap0/focal,now 7.6.q-30 amd64 [installed]
libx11-6/focal-updates,focal-security,now 2:1.6.9-2ubuntu1.5 amd64 [installed,automatic]
libx11-data/focal-updates,focal-security,now 2:1.6.9-2ubuntu1.5 all [installed,automatic]
libxau6/focal,now 1:1.0.9-0ubuntu1 amd64 [installed,automatic]
libxcb1/focal,now 1.14-2 amd64 [installed,automatic]
libxdmcp6/focal,now 1:1.1.3-0ubuntu1 amd64 [installed,automatic]
libxext6/focal,now 2:1.3.4-0ubuntu1 amd64 [installed,automatic]
libxml2/focal-updates,focal-security,now 2.9.10+dfsg-5ubuntu0.20.04.6 amd64 [installed,automatic]
libxmlb1/focal,now 0.1.15-2 amd64 [installed,upgradable to: 0.1.15-2ubuntu1~20.04.1]
libxmlsec1-openssl/focal,now 1.2.28-2 amd64 [installed,automatic]
libxmlsec1/focal,now 1.2.28-2 amd64 [installed,automatic]
libxmuu1/focal,now 2:1.1.3-0ubuntu1 amd64 [installed,automatic]
libxpm4/focal-updates,focal-security,now 1:3.5.12-1ubuntu0.20.04.1 amd64 [installed,automatic]
libxslt1.1/focal-updates,focal-security,now 1.1.34-4ubuntu0.20.04.1 amd64 [installed,automatic]
libxtables12/focal,now 1.8.4-3ubuntu2 amd64 [installed,upgradable to: 1.8.4-3ubuntu2.1]
libyaml-0-2/focal,now 0.2.2-1 amd64 [installed,automatic]
libzstd1/focal-updates,focal-security,now 1.4.4+dfsg-3ubuntu0.1 amd64 [installed,automatic]
linux-aws-headers-5.4.0-1018/focal-updates,focal-security,now 5.4.0-1018.18 all [installed]
linux-aws/now 5.4.0.1018.19 amd64 [installed,upgradable to: 5.15.0.1041.46~20.04.30]
linux-base/focal-security,now 4.5ubuntu3.1 all [installed,upgradable to: 4.5ubuntu3.7]
linux-headers-5.4.0-1018-aws/focal-updates,focal-security,now 5.4.0-1018.18 amd64 [installed]
linux-headers-aws/now 5.4.0.1018.19 amd64 [installed,upgradable to: 5.15.0.1041.46~20.04.30]
linux-image-5.4.0-1018-aws/focal-updates,focal-security,now 5.4.0-1018.18 amd64 [installed]
linux-image-aws/now 5.4.0.1018.19 amd64 [installed,upgradable to: 5.15.0.1041.46~20.04.30]
linux-libc-dev/focal-updates,focal-security,now 5.4.0-156.173 amd64 [installed,automatic]
linux-modules-5.4.0-1018-aws/focal-updates,focal-security,now 5.4.0-1018.18 amd64 [installed]
locales/focal-security,now 2.31-0ubuntu9.7 all [installed,upgradable to: 2.31-0ubuntu9.9]
login/focal-updates,focal-security,now 1:4.8.1-1ubuntu5.20.04.4 amd64 [installed,automatic]
logrotate/focal,now 3.14.0-4ubuntu3 amd64 [installed,automatic]
logsave/focal-updates,focal-security,now 1.45.5-2ubuntu1.1 amd64 [installed,automatic]
lsb-base/focal,now 11.1.0ubuntu2 all [installed,automatic]
lsb-release/focal,now 11.1.0ubuntu2 all [installed]
lshw/focal,now 02.18.85-0.3ubuntu2 amd64 [installed,upgradable to: 02.18.85-0.3ubuntu2.20.04.1]
lsof/focal,now 4.93.2+dfsg-1 amd64 [installed,upgradable to: 4.93.2+dfsg-1ubuntu0.20.04.1]
ltrace/focal,now 0.7.3-6.1ubuntu1 amd64 [installed,automatic]
lvm2/focal,now 2.03.07-1ubuntu1 amd64 [installed,automatic]
lxd-agent-loader/focal,now 0.4 all [installed,automatic]
lz4/focal-updates,focal-security,now 1.9.2-2ubuntu0.20.04.1 amd64 [installed,automatic]
make/focal,now 4.2.1-1.2 amd64 [installed,automatic]
man-db/focal,now 2.9.1-1 amd64 [installed,automatic]
manpages-dev/focal,now 5.05-1 all [installed,automatic]
manpages/focal,now 5.05-1 all [installed,automatic]
maven/focal,now 3.6.3-1 all [installed]
mawk/focal,now 1.3.4.20200120-2 amd64 [installed,automatic]
mdadm/focal,now 4.1-5ubuntu1 amd64 [installed,upgradable to: 4.1-5ubuntu1.2]
mecab-ipadic-utf8/focal,now 2.7.0-20070801+main-2.1 all [installed,automatic]
mecab-ipadic/focal,now 2.7.0-20070801+main-2.1 all [installed,automatic]
mecab-utils/focal,now 0.996-10build1 amd64 [installed,automatic]
mime-support/focal,now 3.64ubuntu1 all [installed,automatic]
mount/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
mtr-tiny/focal,now 0.93-1 amd64 [installed,automatic]
multipath-tools/focal-updates,focal-security,now 0.8.3-1ubuntu2.1 amd64 [installed,automatic]
mysql-client-8.0/focal-updates,now 8.0.33-0ubuntu0.20.04.4 amd64 [installed,automatic]
mysql-client-core-8.0/focal-updates,now 8.0.33-0ubuntu0.20.04.4 amd64 [installed,automatic]
mysql-common/focal,now 5.8+1.0.5ubuntu2 all [installed,automatic]
mysql-server-8.0/focal-updates,now 8.0.33-0ubuntu0.20.04.4 amd64 [installed]
mysql-server-core-8.0/focal-updates,now 8.0.33-0ubuntu0.20.04.4 amd64 [installed,automatic]
nano/focal,now 4.8-1ubuntu1 amd64 [installed,automatic]
ncurses-base/focal-updates,focal-security,now 6.2-0ubuntu2.1 all [installed]
ncurses-bin/focal-updates,focal-security,now 6.2-0ubuntu2.1 amd64 [installed]
ncurses-term/focal-updates,focal-security,now 6.2-0ubuntu2.1 all [installed]
net-tools/focal,now 1.60+git20180626.aebd88e-1ubuntu1 amd64 [installed]
netbase/focal,now 6.1 all [installed,automatic]
netcat-openbsd/focal,now 1.206-1ubuntu1 amd64 [installed,automatic]
netplan.io/now 0.99-0ubuntu3~20.04.2 amd64 [installed,upgradable to: 0.104-0ubuntu2~20.04.2]
networkd-dispatcher/focal-updates,focal-security,now 2.1-2~ubuntu20.04.3 all [installed,automatic]
nginx-common/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 all [installed,automatic]
nginx-core/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 amd64 [installed,automatic]
nginx/focal-updates,focal-security,now 1.18.0-0ubuntu1.4 all [installed]
nodejs/now 18.17.0-deb-1nodesource1 amd64 [installed,upgradable to: 18.17.1-deb-1nodesource1]
ntfs-3g/focal-updates,focal-security,now 1:2017.3.23AR.3-3ubuntu1.3 amd64 [installed,automatic]
open-iscsi/focal-updates,focal-security,now 2.0.874-7.1ubuntu6.4 amd64 [installed,automatic]
open-vm-tools/focal-updates,focal-security,now 2:11.3.0-2ubuntu0~ubuntu20.04.5 amd64 [installed,automatic]
openjdk-11-jdk-headless/focal-updates,focal-security,now 11.0.20+8-1ubuntu1~20.04 amd64 [installed]
openjdk-11-jre-headless/focal-updates,focal-security,now 11.0.20+8-1ubuntu1~20.04 amd64 [installed]
openssh-client/focal-updates,focal-security,now 1:8.2p1-4ubuntu0.9 amd64 [installed,automatic]
openssh-server/focal-updates,focal-security,now 1:8.2p1-4ubuntu0.9 amd64 [installed]
openssh-sftp-server/focal-updates,focal-security,now 1:8.2p1-4ubuntu0.9 amd64 [installed]
openssl/focal-updates,focal-security,now 1.1.1f-1ubuntu2.19 amd64 [installed,automatic]
os-prober/focal,now 1.74ubuntu2 amd64 [installed,automatic]
overlayroot/focal,now 0.45ubuntu1 all [installed,upgradable to: 0.45ubuntu2]
packagekit-tools/focal-updates,focal-security,now 1.1.13-2ubuntu1.1 amd64 [installed,automatic]
packagekit/focal-updates,focal-security,now 1.1.13-2ubuntu1.1 amd64 [installed,automatic]
parted/focal,now 3.3-4 amd64 [installed,upgradable to: 3.3-4ubuntu0.20.04.1]
passwd/focal-updates,focal-security,now 1:4.8.1-1ubuntu5.20.04.4 amd64 [installed,automatic]
pastebinit/focal,now 1.5.1-1 all [installed,automatic]
patch/focal,now 2.7.6-6 amd64 [installed,automatic]
pci.ids/focal,now 0.0~2020.03.20-1 all [installed,automatic]
pciutils/focal,now 1:3.6.4-1 amd64 [installed,upgradable to: 1:3.6.4-1ubuntu0.20.04.1]
perl-base/focal-updates,focal-security,now 5.30.0-9ubuntu0.4 amd64 [installed,automatic]
perl-modules-5.30/focal-updates,focal-security,now 5.30.0-9ubuntu0.4 all [installed,automatic]
perl/focal-updates,focal-security,now 5.30.0-9ubuntu0.4 amd64 [installed,automatic]
pigz/focal,now 2.4-1 amd64 [installed,automatic]
pinentry-curses/focal,now 1.1.0-3build1 amd64 [installed,automatic]
plymouth-theme-ubuntu-text/focal,now 0.9.4git20200323-0ubuntu6 amd64 [installed,upgradable to: 0.9.4git20200323-0ubuntu6.2]
plymouth/focal,now 0.9.4git20200323-0ubuntu6 amd64 [installed,upgradable to: 0.9.4git20200323-0ubuntu6.2]
policykit-1/focal-updates,focal-security,now 0.105-26ubuntu1.3 amd64 [installed,automatic]
pollinate/focal,now 4.33-3ubuntu1 all [installed,upgradable to: 4.33-3ubuntu1.20.04.1]
popularity-contest/focal,now 1.69ubuntu1 all [installed,automatic]
powermgmt-base/focal,now 1.36 all [installed,automatic]
procps/focal,now 2:3.3.16-1ubuntu2 amd64 [installed,upgradable to: 2:3.3.16-1ubuntu2.3]
psmisc/focal,now 23.3-1 amd64 [installed,automatic]
publicsuffix/focal,now 20200303.0012-1 all [installed,automatic]
python-apt-common/focal-security,now 2.0.0ubuntu0.20.04.3 all [installed,upgradable to: 2.0.1ubuntu0.20.04.1]
python-pip-whl/focal-updates,focal-security,now 20.0.2-5ubuntu1.9 all [installed,automatic]
python3-acme/focal-updates,now 1.1.0-1ubuntu0.1 all [installed,automatic]
python3-apport/focal-security,now 2.20.11-0ubuntu27.26 all [installed,upgradable to: 2.20.11-0ubuntu27.27]
python3-apt/focal-security,now 2.0.0ubuntu0.20.04.3 amd64 [installed,upgradable to: 2.0.1ubuntu0.20.04.1]
python3-attr/focal,now 19.3.0-2 all [installed,automatic]
python3-automat/focal,now 0.8.0-1ubuntu1 all [installed,automatic]
python3-blessings/focal,now 1.6-3 all [installed,automatic]
python3-blinker/focal,now 1.4+dfsg1-0.3ubuntu1 all [installed,automatic]
python3-certbot-nginx/focal-updates,now 0.40.0-0ubuntu0.1 all [installed]
python3-certbot/focal-updates,now 0.40.0-1ubuntu0.1 all [installed,automatic]
python3-certifi/focal,now 2019.11.28-1 all [installed,automatic]
python3-cffi-backend/focal,now 1.14.0-1build1 amd64 [installed,automatic]
python3-chardet/focal,now 3.0.4-4build1 all [installed,automatic]
python3-click/focal,now 7.0-3 all [installed,automatic]
python3-colorama/focal,now 0.4.3-1build1 all [installed,automatic]
python3-commandnotfound/focal,now 20.04.2 all [installed,upgradable to: 20.04.6]
python3-configargparse/focal,now 0.13.0-2 all [installed,automatic]
python3-configobj/focal,now 5.0.6-4 all [installed,automatic]
python3-constantly/focal,now 15.1.0-1build1 all [installed,automatic]
python3-cryptography/focal-updates,focal-security,now 2.8-3ubuntu0.1 amd64 [installed,automatic]
python3-dbus/focal,now 1.2.16-1build1 amd64 [installed,automatic]
python3-debconf/focal,now 1.5.73 all [installed,automatic]
python3-debian/focal,now 0.1.36ubuntu1 all [installed,upgradable to: 0.1.36ubuntu1.1]
python3-dev/focal,now 3.8.2-0ubuntu2 amd64 [installed,automatic]
python3-distro-info/focal,now 0.23ubuntu1 all [installed,upgradable to: 0.23ubuntu1.1]
python3-distro/focal,now 1.4.0-1 all [installed,automatic]
python3-distupgrade/now 1:20.04.21 all [installed,upgradable to: 1:20.04.41]
python3-distutils/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04 all [installed]
python3-entrypoints/focal,now 0.3-2ubuntu1 all [installed,automatic]
python3-future/focal-updates,focal-security,now 0.18.2-2ubuntu0.1 all [installed,automatic]
python3-gdbm/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04 amd64 [installed,automatic]
python3-gi/focal,now 3.36.0-1 amd64 [installed,automatic]
python3-hamcrest/focal,now 1.9.0-3 all [installed,automatic]
python3-httplib2/focal,now 0.14.0-1ubuntu1 all [installed,automatic]
python3-hyperlink/focal,now 19.0.0-1 all [installed,automatic]
python3-icu/focal,now 2.4.2-0ubuntu3 amd64 [installed,automatic]
python3-idna/focal,now 2.8-1 all [installed,automatic]
python3-importlib-metadata/focal,now 1.5.0-1 all [installed]
python3-incremental/focal,now 16.10.1-3.2 all [installed,automatic]
python3-jinja2/focal,now 2.10.1-2 all [installed]
python3-josepy/focal,now 1.2.0-2 all [installed,automatic]
python3-json-pointer/focal,now 2.0-0ubuntu1 all [installed]
python3-jsonpatch/focal,now 1.23-3 all [installed]
python3-jsonschema/focal,now 3.2.0-0ubuntu2 all [installed]
python3-jwt/focal-updates,focal-security,now 1.7.1-2ubuntu2.1 all [installed,automatic]
python3-keyring/focal,now 18.0.1-2ubuntu1 all [installed,automatic]
python3-launchpadlib/focal,now 1.10.13-1 all [installed,automatic]
python3-lazr.restfulclient/focal,now 0.14.2-2build1 all [installed,automatic]
python3-lazr.uri/focal,now 1.0.3-4build1 all [installed,automatic]
python3-lib2to3/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04 all [installed]
python3-markupsafe/focal,now 1.1.0-1build2 amd64 [installed]
python3-minimal/focal,now 3.8.2-0ubuntu2 amd64 [installed,automatic]
python3-mock/focal,now 3.0.5-1build1 all [installed,automatic]
python3-more-itertools/focal,now 4.2.0-1build1 all [installed]
python3-nacl/focal,now 1.3.0-5 amd64 [installed]
python3-netifaces/focal,now 0.10.4-1ubuntu4 amd64 [installed,automatic]
python3-newt/focal,now 0.52.21-4ubuntu2 amd64 [installed,automatic]
python3-oauthlib/focal,now 3.1.0-1ubuntu2 all [installed,automatic]
python3-openssl/focal,now 19.0.0-1build1 all [installed,automatic]
python3-parsedatetime/focal,now 2.4-5 all [installed,automatic]
python3-pbr/focal,now 5.4.5-0ubuntu1 all [installed,automatic]
python3-pexpect/focal,now 4.6.0-1build1 all [installed,automatic]
python3-pip/focal-updates,focal-security,now 20.0.2-5ubuntu1.9 all [installed]
python3-pkg-resources/focal-updates,focal-security,now 45.2.0-1ubuntu0.1 all [installed,automatic]
python3-problem-report/focal-security,now 2.20.11-0ubuntu27.26 all [installed,upgradable to: 2.20.11-0ubuntu27.27]
python3-psutil/focal,now 5.5.1-1ubuntu4 amd64 [installed,automatic]
python3-ptyprocess/focal,now 0.6.0-1ubuntu1 all [installed,automatic]
python3-pyasn1-modules/focal,now 0.2.1-0.2build1 all [installed,automatic]
python3-pyasn1/focal,now 0.4.2-3build1 all [installed,automatic]
python3-pymacaroons/focal,now 0.13.0-3 all [installed]
python3-pynvml/focal,now 7.352.0-3 amd64 [installed,automatic]
python3-pyparsing/focal,now 2.4.6-1 all [installed,automatic]
python3-pyrsistent/focal,now 0.15.5-1build1 amd64 [installed]
python3-requests-toolbelt/focal,now 0.8.0-1.1 all [installed,automatic]
python3-requests-unixsocket/focal,now 0.2.0-2 all [installed,automatic]
python3-requests/focal-updates,focal-security,now 2.22.0-2ubuntu1.1 all [installed,automatic]
python3-rfc3339/focal,now 1.1-2 all [installed,automatic]
python3-secretstorage/focal,now 2.3.1-2ubuntu1 all [installed,automatic]
python3-serial/focal,now 3.4-5.1 all [installed]
python3-service-identity/focal,now 18.1.0-5build1 all [installed,automatic]
python3-setuptools/focal-updates,focal-security,now 45.2.0-1ubuntu0.1 all [installed]
python3-simplejson/focal,now 3.16.0-2ubuntu2 amd64 [installed,automatic]
python3-six/focal,now 1.14.0-2 all [installed,automatic]
python3-software-properties/focal-security,now 0.98.9.2 all [installed,upgradable to: 0.99.9.11]
python3-systemd/focal,now 234-3build2 amd64 [installed,automatic]
python3-twisted-bin/focal-updates,focal-security,now 18.9.0-11ubuntu0.20.04.2 amd64 [installed,automatic]
python3-twisted/focal-updates,focal-security,now 18.9.0-11ubuntu0.20.04.2 all [installed,automatic]
python3-tz/focal-updates,now 2019.3-1ubuntu0.20.04.0 all [installed,automatic]
python3-update-manager/now 1:20.04.10.1 all [installed,upgradable to: 1:20.04.10.11]
python3-urllib3/focal-updates,focal-security,now 1.25.8-2ubuntu0.2 all [installed,automatic]
python3-wadllib/focal,now 1.3.3-3build1 all [installed,automatic]
python3-wheel/focal-updates,focal-security,now 0.34.2-1ubuntu0.1 all [installed,automatic]
python3-yaml/focal-updates,focal-security,now 5.3.1-1ubuntu0.1 amd64 [installed,automatic]
python3-zipp/focal,now 1.0.0-1 all [installed]
python3-zope.component/focal,now 4.3.0-3 all [installed,automatic]
python3-zope.event/focal,now 4.4-2build1 all [installed,automatic]
python3-zope.hookable/focal,now 5.0.0-1build1 amd64 [installed,automatic]
python3-zope.interface/focal,now 4.7.1-1 amd64 [installed,automatic]
python3.8-dev/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
python3.8-minimal/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
python3.8/focal-updates,focal-security,now 3.8.10-0ubuntu1~20.04.8 amd64 [installed,automatic]
python3/focal,now 3.8.2-0ubuntu2 amd64 [installed,automatic]
readline-common/focal,now 8.0-4 all [installed,automatic]
rsync/focal-updates,focal-security,now 3.1.3-8ubuntu0.5 amd64 [installed,automatic]
rsyslog/focal-updates,focal-security,now 8.2001.0-1ubuntu1.3 amd64 [installed,automatic]
run-one/focal,now 1.17-0ubuntu1 all [installed,automatic]
sbsigntool/focal,now 0.9.2-2ubuntu1 amd64 [installed,upgradable to: 0.9.2-2ubuntu1.1]
screen/focal-updates,focal-security,now 4.8.0-1ubuntu0.1 amd64 [installed,automatic]
secureboot-db/focal,now 1.5 amd64 [installed,automatic]
sed/focal,now 4.7-1 amd64 [installed,automatic]
sensible-utils/focal,now 0.0.12+nmu1 all [installed,automatic]
sg3-utils-udev/focal,now 1.44-1ubuntu2 all [installed,automatic]
sg3-utils/focal,now 1.44-1ubuntu2 amd64 [installed,automatic]
shared-mime-info/focal,now 1.15-1 amd64 [installed,automatic]
slirp4netns/focal,now 0.4.3-1 amd64 [installed,automatic]
snapd/focal-updates,focal-security,now 2.58+20.04.1 amd64 [installed,automatic]
software-properties-common/focal-security,now 0.98.9.2 all [installed,upgradable to: 0.99.9.11]
sosreport/focal-security,now 4.3-1ubuntu0.20.04.2 amd64 [installed,upgradable to: 4.4-1ubuntu0.20.04.1]
sound-theme-freedesktop/focal,now 0.8-2ubuntu1 all [installed,automatic]
squashfs-tools/focal-updates,focal-security,now 1:4.4-1ubuntu0.3 amd64 [installed,automatic]
ssh-import-id/focal,now 5.10-0ubuntu1 all [installed]
strace/focal-updates,now 5.5-3ubuntu1 amd64 [installed,automatic]
sudo/focal-updates,focal-security,now 1.8.31-1ubuntu1.5 amd64 [installed,automatic]
systemd-sysv/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
systemd-timesyncd/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
systemd/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
sysvinit-utils/focal,now 2.96-2.1ubuntu1 amd64 [installed]
tar/focal-updates,focal-security,now 1.30+dfsg-7ubuntu0.20.04.3 amd64 [installed,automatic]
tcpdump/focal-security,now 4.9.3-4ubuntu0.1 amd64 [installed,upgradable to: 4.9.3-4ubuntu0.2]
telnet/focal,now 0.17-41.2build1 amd64 [installed,automatic]
thin-provisioning-tools/focal,now 0.8.5-4build1 amd64 [installed,automatic]
time/focal,now 1.7-25.1build1 amd64 [installed,automatic]
tmux/focal-updates,focal-security,now 3.0a-2ubuntu0.4 amd64 [installed,automatic]
tpm-udev/focal,now 0.4 all [installed,automatic]
tzdata/focal-security,now 2023c-0ubuntu0.20.04.0 all [installed,upgradable to: 2023c-0ubuntu0.20.04.2]
ubuntu-advantage-tools/focal,now 20.3 amd64 [installed,upgradable to: 28.1~20.04]
ubuntu-keyring/focal,now 2020.02.11.2 all [installed,upgradable to: 2020.02.11.4]
ubuntu-minimal/now 1.450.1 amd64 [installed,upgradable to: 1.450.2]
ubuntu-release-upgrader-core/now 1:20.04.21 all [installed,upgradable to: 1:20.04.41]
ubuntu-server/now 1.450.1 amd64 [installed,upgradable to: 1.450.2]
ubuntu-standard/now 1.450.1 amd64 [installed,upgradable to: 1.450.2]
ucf/focal,now 3.0038+nmu1 all [installed,automatic]
udev/focal-security,now 245.4-4ubuntu3.20 amd64 [installed,upgradable to: 245.4-4ubuntu3.22]
ufw/focal,now 0.36-6 all [installed,upgradable to: 0.36-6ubuntu1.1]
unattended-upgrades/focal,now 2.3 all [installed,upgradable to: 2.3ubuntu0.3]
update-manager-core/now 1:20.04.10.1 all [installed,upgradable to: 1:20.04.10.11]
update-notifier-common/focal,now 3.192.30 all [installed,upgradable to: 3.192.30.17]
usb.ids/focal,now 2020.03.19-1 all [installed,automatic]
usbutils/focal,now 1:012-2 amd64 [installed,automatic]
util-linux/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
uuid-runtime/focal-security,now 2.34-0.1ubuntu9.3 amd64 [installed,upgradable to: 2.34-0.1ubuntu9.4]
vim-common/focal-updates,focal-security,now 2:8.1.2269-1ubuntu5.16 all [installed,automatic]
vim-runtime/focal-updates,focal-security,now 2:8.1.2269-1ubuntu5.16 all [installed,automatic]
vim-tiny/focal-updates,focal-security,now 2:8.1.2269-1ubuntu5.16 amd64 [installed,automatic]
vim/focal-updates,focal-security,now 2:8.1.2269-1ubuntu5.16 amd64 [installed,automatic]
wget/focal,now 1.20.3-1ubuntu1 amd64 [installed,upgradable to: 1.20.3-1ubuntu2]
whiptail/focal,now 0.52.21-4ubuntu2 amd64 [installed,automatic]
xauth/focal,now 1:1.1-0ubuntu1 amd64 [installed,automatic]
xdg-user-dirs/focal,now 0.17-2ubuntu1 amd64 [installed,automatic]
xfsprogs/focal,now 5.3.0-1ubuntu2 amd64 [installed,automatic]
xkb-data/focal,now 2.29-2 all [installed,automatic]
xxd/focal-updates,focal-security,now 2:8.1.2269-1ubuntu5.16 amd64 [installed,automatic]
xz-utils/focal-updates,focal-security,now 5.2.4-1ubuntu1.1 amd64 [installed,automatic]
zerofree/focal,now 1.1.1-1 amd64 [installed,automatic]
zlib1g-dev/focal-updates,focal-security,now 1:1.2.11.dfsg-2ubuntu1.5 amd64 [installed,automatic]
zlib1g/focal-updates,focal-security,now 1:1.2.11.dfsg-2ubuntu1.5 amd64 [installed,automatic]
```

### 6.2.3 도메인 연결

- 가비아 도메인 구입
    - [connectwithus.site](http://connectwithus.site)
- 도메인 관리 > DNS 정보

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%86%E1%85%A2%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%209023352d9df54132871f925801c663e2/Untitled%201.png)

- DNS 관리 > 구입한 도메인 설정

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%86%E1%85%A2%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%209023352d9df54132871f925801c663e2/Untitled%202.png)

- EC2 public ip 확인
    
    ```bash
    curl ifconfig.me
    ```
    
- 레코드 수정 > EC2 public ip 입력

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%86%E1%85%A2%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%209023352d9df54132871f925801c663e2/Untitled%203.png)

## 6.3 Docker

1. 우분투 시스템 패키지 업데이트
    
    ```bash
    sudo apt-get update
    ```
    
2. 필요한 패키지 설치
    
    ```bash
    sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
    ```
    
3. Docker 공식 GPG키 추가
    
    ```bash
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
    ```
    
4. Docker의 공식 apt 저장소 추가
    
    ```bash
    sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
    ```
    
5. 시스템 패키지 업데이트
    
    ```bash
    sudo apt-get update
    ```
    
6. Docker 설치
    
    ```bash
    sudo apt-get install docker-ce docker-ce-cli containerd.io
    ```
    
7. Docker 설치 확인
    
    ```bash
    sudo systemctl status docker
    ```
    
8. 도커 실행
    
    ```bash
    sudo docker run hello-world
    ```
    

## 6.5 Openvidu

### 6.5.1 openvidu on premises 설치

- 공식 문서
    - [https://docs.openvidu.io/en/stable/deployment/ce/on-premises/](https://docs.openvidu.io/en/stable/deployment/ce/on-premises/)
1. 기존 openvidu 관련 docker image, container 삭제
    
    ```bash
    # 모든 docker container 조회 
    docker ps -a
    # openvidu, korento media server등의 컨테이너가 존재한다면 삭제
    docker rm -f <ID or NAME>
    
    # docker image 조회
    docker images
    # docker image 삭제
    docker rmi <ID or IMAGE>
    ```
    
2. SSL 인증
    - EC2 내 Nginx 설치
        
        ```bash
        $ sudo apt update
        $ sudo apt install nginx
        ```
        
    - Certbot 설치
        
        ```bash
        $ sudo snap install certbot --classic
        $ sudo apt update
        ```
        
    - 인증서 발급
        
        ```bash
         $ sudo certbot --nginx -d connectwithus.site -d www.connectwithus.site
        ```
        
    - Nginx 정상 작동 확인 & Nginx Stop
        
        ```bash
        $ systemctl status nginx
        $ systenctl stop nginx
        ```
        
    - 사용 중인 포트 중 80, 443 있는지 확인
        
        ```bash
        $ sudo netstat -anp | gerp 80
        $ sudo netstat -anp | gerp 443
        ```
        
3. openvidu On premises 설치
    
    ```bash
    # 관리자 권한
    $ sudo su
    
    # openvidu가 설치되는 경로
    $ cd /opt
    
    # openvidu on promises 설치
    $ curl https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/install_openvidu_latest.sh | bash
    
    $ exit
    ```
    
4. openvidu 설정 변경
    - openvidu on premises의 구동을 위해서는 SSL 인증이 필요
    - SSL인증 후 openvidu 구동 시, port 80, 443을 이용해 통신, 첫 구동시 해당 port는 변경 불가
        - 이러한 이유로 EC2에 nginx가 먼저 system에 활성화 되어있다면 port 충돌이 일어나게 된다
    - openvidu 설정 파일 접근
        
        ```bash
        $ sudo su  
        $ cd /opt/openvidu
        
        # .env 파일 변경
        $ vi .env
        # 혹은
        $ nano .env
        ```
        
    - .env 파일 변경
        
        ```bash
        # /opt/openvidu
        
        $ sudo vi .env
        
        # OpenVidu configuration
        # ----------------------
        # Documentation: https://docs.openvidu.io/en/stable/reference-docs/openvidu-config/
        
        # NOTE: This file doesn't need to quote assignment values, like most shells do.
        # All values are stored as-is, even if they contain spaces, so don't quote them.
        
        # Domain name. If you do not have one, the public IP of the machine.
        # For example: 198.51.100.1, or openvidu.example.com
        
        # 본인 서버의 도메인(example.com) 또는
        # $ curl ifconfig.me 커맨드를 실행한 결과로 얻는 ip를 기입한다.
        # openvidu 서버가 여기 작성한 도메인으로 실행된다.
        DOMAIN_OR_PUBLIC_IP=connectwithus.site
        
        # OpenVidu SECRET used for apps to connect to OpenVidu server and users to access to OpenVidu Dashboard
        OPENVIDU_SECRET=WITHUS
        
        # Certificate type:
        # - selfsigned:  Self signed certificate. Not recommended for production use.
        #                Users will see an ERROR when connected to web page.
        # - owncert:     Valid certificate purchased in a Internet services company.
        #                Please put the certificates files inside folder ./owncert
        #                with names certificate.key and certificate.cert
        # - letsencrypt: Generate a new certificate using letsencrypt. Please set the
        #                required contact email for Let's Encrypt in LETSENCRYPT_EMAIL
        #                variable.
        CERTIFICATE_TYPE=letsencrypt
        
        # If CERTIFICATE_TYPE=letsencrypt, you need to configure a valid email for notifications
        LETSENCRYPT_EMAIL=user@example.com
        
        # Proxy configuration
        # If you want to change the ports on which openvidu listens, uncomment the following lines
        
        # Allows any request to http://DOMAIN_OR_PUBLIC_IP:HTTP_PORT/ to be automatically
        # redirected to https://DOMAIN_OR_PUBLIC_IP:HTTPS_PORT/.
        # WARNING: the default port 80 cannot be changed during the first boot
        # if you have chosen to deploy with the option CERTIFICATE_TYPE=letsencrypt
        
        # NGINX의 포트를 변경
        HTTP_PORT=8442
        
        # Changes the port of all services exposed by OpenVidu.
        # SDKs, REST clients and browsers will have to connect to this port
        HTTPS_PORT=8443
        
        :wq
        ```
        
    - openvidu On Promises 실행
        
        ```bash
        # /opt/openvidu
        # 실행
        $ ./openvidu start
        # 중지
        $ ./openvidu stop
        ```
        
5. 접속 확인
    - [https://connectwithus](https://connectwithus).site:8443/

## 6.6 Nginx

### 6.6.1 Nginx reverse-proxy 적용

- /etc/nginx/site-available/default

```bash
server {
    listen 80 ;
#   listen [::]:80 ;

    if ($host = www.connectwithus.site) {
        return 301 https://$host$request_uri;
    } # managed by Certbot

    if ($host = connectwithus.site) {
        return 301 https://$host$request_uri;
    } # managed by Certbot

    server_name connectwithus.site www.connectwithus.site;
    return 404; # managed by Certbot

}

server {
#    root /var/www/html;

    # Add index.php to the list if you are using PHP
#    index index.html index.htm index.nginx-debian.html;
    server_name connectwithus.site www.connectwithus.site; # managed by Certbot

    # backend
    location /api {
        proxy_pass http://localhost:9001/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
#       try_files $uri $uri/ =404;
    }

    # ai server
    location /ai {
        proxy_pass http://localhost:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
#       try_files $uri $uri/ =404;

    }

    # frontend
    location / {
        proxy_pass http://localhost:5173;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
#       try_files $uri $uri/ =404;
    }

    listen [::]:443 ssl ipv6only=on; # managed by Certbot
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/connectwithus.site/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/connectwithus.site/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

}
```

## 6.7 MySQL

- MySQL 설치
    
    ```bash
    $ sudo apt-get update
    $ sudo apt-get install mysql-server
    ```
    
- 버전 확인
    
    ```bash
    $ mysql --version
    ```
    
- EC2 내부에서 MySQL 접근
    
    ```bash
    $ mysql -u root -p
    ```
    
- root 계정 비밀번호 변경
    
    ```bash
    mysql> alter user "root"@"localhost" identified with mysql_native_password by "암호";
    mysql> FLUSH PRIVILEGES;
    ```
    
- 외부 접속 허용
    
    ```bash
    $ vi /etc/mysql/mysql.conf.d/mysqld.cnf
    
    # /etc/mysql/mysql.conf.d/mysqld.cnf
    ...
    bind-address = 0.0.0.0
    ...
    ```
    
- MySQL 서버 재시작
    
    ```bash
    $ systemctl restart mysql
    ```
    

## 6.8 Jenkins

1. 젠킨스 도커 이미지 다운로드
    
    ```bash
    $ sudo docker pull jenkins/jenkins:lts
    ```
    
2. 젠킨스 폴더 생성
    
    ```bash
    $ mkdir jenkins_build
    $ cd jenkins_build
    ```
    
3. 젠킨스 Dockerfile 작성
    
    ```bash
    # Dockerfile
    FROM jenkins/jenkins:lts
    
    USER root
    
    # install docker
    RUN apt-get update && \
        apt-get -y install apt-transport-https \
            ca-certificates \
            curl \
            gnupg2 \
            zip \
            unzip \
            software-properties-common && \
        curl -fsSL https://download.docker.com/linux/$(. /etc/os-release; echo "$ID")/gpg > /tmp/dkey; apt-key add /tmp/dkey && \
        add-apt-repository \
        "deb [arch=amd64] https://download.docker.com/linux/$(. /etc/os-release; echo "$ID") \
        $(lsb_release -cs) \
        stable" && \
        apt-get update && \
        apt-get -y install docker-ce
    ```
    
4. 컨테이너 설정을 위한 docker-compose 작성
    
    ```bash
    # docker-compose.yml
    version: '3.7'
    services:
      jenkins:
        build:
          context: .
        container_name: jenkins
        user: root
        privileged: true
        ports:
          - 8081(**jenkins port**):8080
          - 50000:50000
        volumes:
          - ./jenkins_home:/var/jenkins_home
          - /var/run/docker.sock:/var/run/docker.sock
    ```
    
5. docker compose
    
    ```bash
    $ sudo docker-compose up
    ```
    
6. 젠킨스 컨테이너 접속
    
    ```bash
    docker exec -it 컨테이너ID /bin/sh
    ```
    
7. docker-compose 다운
    
    ```bash
    curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
    ```
    

# 7. Files ignored